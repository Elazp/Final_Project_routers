
<!DOCTYPE html>
<html>
<head>
<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>




</head>

<body>

	 <p>Please, add new points to this route! :)</p>
  
<section>

<h1 class="index_title"> <%= @route.route_name %> </h1>



<ul id="routes">


<br><br>
<div class="box_map">



<strong><span class="place_line">
<% @points.each do |point| %>

<%= point.point_name %> =>

<%end%>
</span></strong>


<br><br>
<div style='width: 800px;'>
  <div id="map" style='width: 780px; height: 400px;'></div>
</div>

<br>
<br>
 <p><%= @route.route_country %></p>
  <p><%= @route.route_description %></p>
  <p>Date: <%= @route.route_date%></p>
</div>




<br><br>

<% @points.each do |point| %>

  <div class="container">
        <div class="row">

  <div class="col-md-2">
<h1 class="point_name"><%= point.point_name %> </h1>
</div>


  <div class="col-md-4">
<img class="photo" src=  <%=point.point_photo%>  height="250" width="350">
</div>

  <div class="col-md-5">
<p>Date:<%= point.point_date%></p>
<p>Description:<%= point.point_description %></p>

</div>
</div>
</div>






<hr>
<% end %>
  <%= link_to('Add new point in this route',  new_route_point_path)%>
</ul>

	
	<%= link_to('Back to routes', routes_path)%>
</section>

<script type="text/javascript">
handler = Gmaps.build('Google');
handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
  markers = handler.addMarkers(<%=raw @hash.to_json %>);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});
</script>
</body>

</html>